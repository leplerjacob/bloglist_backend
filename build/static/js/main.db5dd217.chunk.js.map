{"version":3,"sources":["services/blog.js","components/Blog.js","services/login.js","components/Notification.js","components/Togglable.js","components/LoginForm.js","components/BlogForm.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","res","data","createBlog","blog","user","a","request","post","headers","Authorization","token","setToken","newToken","updateBlogLikes","put","id","likedBlog","deleteBlog","delete","Blog","addLike","useState","visible","setVisible","visibleStyle","display","likeBlog","likes","performDelete","window","confirm","className","title","onClick","style","author","url","username","disabled","deleteButton","login","creds","response","Notification","props","success","message","Togglable","React","forwardRef","ref","hideWhenVisible","showWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","LoginForm","handleSubmit","setUsername","password","setPassword","onSubmit","e","preventDefault","type","value","name","onChange","target","BlogForm","setTitle","setUrl","setAuthor","setLikes","App","blogs","setBlogs","setUser","notify","setNotify","toggleLoginForm","useRef","toggleBlogForm","useEffect","blogService","initialBlogs","catch","err","console","log","loggedUserJSON","localStorage","getItem","JSON","parse","handleLogin","loginService","setItem","stringify","notifyTimer","handleBlogEntry","newBlog","current","concat","handleBlogLike","updatedBlog","map","handleDeleteBlog","blogToDelete","deletedBlog","filter","setTimeout","sort","b","ReactDOM","render","document","getElementById"],"mappings":"kSACMA,EAAU,aAqCD,GAAEC,OA7BF,WAEb,OADgBC,IAAMC,IAAIH,GACXI,MAAK,SAACC,GAAD,OAASA,EAAIC,SA2BVC,WAxBT,uCAAG,WAAOC,EAAMC,GAAb,eAAAC,EAAA,6DACXC,EAAUT,IAAMU,KAAKZ,EAASQ,EAAM,CACxCK,QAAS,CACPC,cAAe,UAAYL,EAAKM,SAHnB,kBAMVJ,EAAQP,MAAK,SAACC,GAAD,OAASA,EAAIC,SANhB,2CAAH,wDAwBqBU,SAjCpB,SAACC,GACX,iBAAaA,IAgC2BC,gBAf1B,uCAAG,WAAOV,EAAMC,GAAb,eAAAC,EAAA,6DAChBC,EAAUT,IAAMiB,IAAInB,EAAO,WAAOQ,EAAKY,IAAMZ,EAAKa,UAAW,CACjER,QAAS,CAAEC,cAAe,UAAYL,EAAKM,SAFvB,kBAIfJ,EAAQP,MAAK,SAACC,GAAD,OAASA,EAAIC,SAJX,2CAAH,wDAe2CgB,WARhD,uCAAG,WAAOd,EAAMC,GAAb,eAAAC,EAAA,6DACXC,EAAUT,IAAMqB,OAAQvB,EAAO,WAAOQ,EAAKY,IAAO,CACtDP,QAAS,CAAEC,cAAe,UAAYL,EAAKM,SAF5B,kBAIVJ,EAAQP,MAAK,SAAAC,GAAG,OAAIA,EAAIC,SAJd,2CAAH,yDCiCDkB,G,OA5DF,SAAC,GAAyC,IAAvChB,EAAsC,EAAtCA,KAAMiB,EAAgC,EAAhCA,QAASH,EAAuB,EAAvBA,WAAYb,EAAW,EAAXA,KAAW,EACtBiB,oBAAS,GADa,mBAC7CC,EAD6C,KACpCC,EADoC,KAG9CC,EAAe,CAAEC,QAASH,EAAU,GAAK,QAMzCI,EAAW,WACfN,EAAQ,CAAEL,GAAIZ,EAAKY,GAAIC,UAAW,CAAEW,MAAOxB,EAAKwB,MAAQ,MAGpDC,EAAgB,WAChBC,OAAOC,QAAQ,+CACjBb,EAAWd,IA8Bf,OACE,sBAAK4B,UAAU,YAAf,UACE,6BAAK5B,EAAK6B,QACV,wBAAQC,QA3CO,WACjBV,GAAYD,IA0CV,SAA8BA,EAAU,OAAS,SACjD,sBAAKY,MAAOV,EAAZ,UACE,6BAAKrB,EAAKgC,SACV,sCAAShC,EAAKiC,OACd,wCAAWjC,EAAKwB,SAdjBvB,EACO,wBAAQ6B,QAASP,EAAjB,uBAER,EAtBiB,WACnB,GAAItB,EACF,OAAIA,EAAKiC,WAAalC,EAAKC,KAAKiC,SAE5B,wBAAQJ,QAASL,EAAeI,MAAM,cAAtC,oBAMA,wBAAQM,SAAS,WAAWN,MAAM,+BAAlC,oBAyBDO,WCjDM,GAACC,MANL,uCAAG,WAAOC,GAAP,eAAApC,EAAA,sEACWR,IAAMU,KAAK,aAAckC,GADpC,cACNC,EADM,yBAELA,EAASzC,MAFJ,2CAAH,uDCiBI0C,EAjBM,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACbC,EAAUD,EAAMC,QAChBC,EAAUF,EAAME,QAItB,OACE,8BACGD,EACC,oBAAId,UAAU,iBAAd,SAAgCe,IAEhC,oBAAIf,UAAU,gBAAd,SAA+Be,OCsB1BC,EAhCGC,IAAMC,YAAW,SAACL,EAAOM,GAAS,IAAD,EACnB7B,oBAAS,GADU,mBAC1CC,EAD0C,KACjCC,EADiC,KAG3C4B,EAAkB,CAAE1B,QAASH,EAAU,OAAS,IAChD8B,EAAkB,CAAE3B,QAASH,EAAU,GAAK,QAE5C+B,EAAmB,WACvB9B,GAAYD,IAQd,OALAgC,8BAAoBJ,GAAK,WAEvB,MAAO,CAACG,uBAIR,gCACE,qBAAKnB,MAAOiB,EAAZ,SACE,wBAAQlB,QAASoB,EAAjB,SAAoCT,EAAMW,gBAE5C,sBAAKrB,MAAOkB,EAAZ,UACGR,EAAMY,SACP,wBAAQvB,QAASoB,EAAjB,6BCYOI,EAnCG,SAAC,GAAoB,IAAnBC,EAAkB,EAAlBA,aAAkB,EACJrC,mBAAS,IADL,mBAC7BgB,EAD6B,KACnBsB,EADmB,OAEJtC,mBAAS,IAFL,mBAE7BuC,EAF6B,KAEnBC,EAFmB,KASpC,OACE,uBAAMC,SANW,SAACC,GAClBA,EAAEC,iBACFN,EAAa,CAACrB,WAAUuB,cAIxB,UACE,uCACA,2CAEE,uBACEK,KAAK,OACLC,MAAO7B,EACP8B,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBV,EAAYU,EAAOH,aAGjD,2CAEE,uBACED,KAAK,WACLC,MAAON,EACPO,KAAK,WACLC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBR,EAAYQ,EAAOH,aAGjD,wBAAQD,KAAK,SAAb,uBCyBSK,EAvDE,SAAC,GAA0B,IAAxBpE,EAAuB,EAAvBA,WAAYE,EAAW,EAAXA,KAAW,EACfiB,mBAAS,IADM,mBAClCW,EADkC,KAC3BuC,EAD2B,OAEnBlD,mBAAS,IAFU,mBAElCe,EAFkC,KAE7BoC,EAF6B,OAGbnD,mBAAS,IAHI,mBAGlCc,EAHkC,KAG1BsC,EAH0B,OAIfpD,mBAAS,IAJM,mBAIlCM,EAJkC,KAI3B+C,EAJ2B,KAyBzC,OACE,uBAAMZ,SApBQ,SAACC,GACfA,EAAEC,iBAEF9D,EACE,CACE8B,MAAOA,EACPG,OAAQA,EACRC,IAAKA,EACLT,MAAOA,GAETvB,GAGFmE,EAAS,IACTC,EAAO,IACPC,EAAU,IACVC,EAAS,KAIT,mBAEE,uBACET,KAAK,OACLC,MAAOlC,EACPoC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBE,EAASF,EAAOH,UAL9C,UAQE,uBACED,KAAK,OACLC,MAAO/B,EACPiC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBI,EAAUJ,EAAOH,UAX/C,OAcE,uBACED,KAAK,OACLC,MAAO9B,EACPgC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBG,EAAOH,EAAOH,UAE1C,uBACED,KAAK,SACLC,MAAOvC,EACPyC,SAAU,gBAAGC,EAAH,EAAGA,OAAH,OAAgBK,EAASL,EAAOH,UAE5C,wBAAQD,KAAK,SAAb,6BC6HSU,EAvKH,WAAO,IAAD,EACUtD,mBAAS,IADnB,mBACTuD,EADS,KACFC,EADE,OAEQxD,mBAAS,MAFjB,mBAETjB,EAFS,KAEH0E,EAFG,OAGYzD,mBAAS,MAHrB,mBAGT0D,EAHS,KAGDC,EAHC,KAMVC,EAAkBC,mBAClBC,EAAiBD,mBAEvBE,qBAAU,WACRC,EACGzF,SACAG,MAAK,SAACuF,GAILT,EAASS,MAEVC,OAAM,SAACC,GACNC,QAAQC,IAAIF,QAEf,IAEHJ,qBAAU,WACR,IAAMO,EAAiB9D,OAAO+D,aAAaC,QAAQ,qBACnD,GAAIF,EAAgB,CAClB,IAAMvF,EAAO0F,KAAKC,MAAMJ,GACxBb,EAAQ1E,MAET,IAEH,IAAM4F,EAAc,SAACxD,GACnByD,EACGzD,MAAMA,GACNzC,MAAK,SAACK,GACL4E,EAAU,CAAEnC,SAAS,EAAMC,QAAS,qBACpCjB,OAAO+D,aAAaM,QAAQ,iBAAkBJ,KAAKK,UAAU/F,IAC7D0E,EAAQ1E,GACRgG,OAEDb,OAAM,SAACC,GACNR,EAAU,CAAEnC,SAAS,EAAOC,QAAS,wBACrCsD,QAIAC,EAAkB,SAACC,GACvBnB,EAAeoB,QAAQlD,mBACvBgC,EACGnF,WAAWoG,EAASlG,GACpBL,MAAK,SAACI,GACLA,EAAI,2BAAOA,GAAP,IAAaC,KAAM,CAACiC,SAAUjC,EAAKiC,SAAUtB,GAAIZ,EAAKC,QAC1DyE,EAASD,EAAM4B,OAAOrG,IACtB6E,EAAU,CACRnC,SAAS,EACTC,QAAQ,aAAD,OAAgB3C,EAAK6B,MAArB,gBAAmC7B,EAAKgC,OAAxC,qBAETiE,OAEDb,OAAM,SAACC,GACNR,EAAU,CACRnC,SAAS,EACTC,QAAS,sCAEXsD,QAIAK,EAAiB,SAACzF,GACtBqE,EACGxE,gBAAgBG,EAAWZ,GAC3BL,MAAK,SAAC2G,GACL1B,EAAU,CACRnC,SAAS,EACTC,QAAQ,GAAD,OAAK1C,EAAK+D,KAAV,iCAAwCuC,EAAY1E,MAApD,OAEToE,IACAvB,EACED,EAAM+B,KAAI,SAACxG,GACT,OAAIA,EAAKY,KAAO2F,EAAY3F,GACnB2F,EAEFvG,SAIZoF,OAAM,SAACC,GACNR,EAAU,CAAEnC,SAAS,EAAOC,QAAS,6BACrCsD,QAIAQ,EAAmB,SAACC,GACxBxB,EACGpE,WAAW4F,EAAczG,GACzBL,MAAK,SAAC+G,GACL9B,EAAU,CAAEnC,SAAS,EAAMC,QAAS,8BACpCsD,IACAvB,EAASD,EAAMmC,QAAO,SAAC5G,GAAD,OAAUA,EAAKY,KAAO+F,EAAY/F,UAEzDwE,OAAM,SAACC,GACNC,QAAQC,IAAIF,GACZR,EAAU,CAAEnC,SAAS,EAAOC,QAAS,+BACrCsD,QAIAA,EAAc,WAClBY,YAAW,WACThC,EAAU,QACT,MAkCL,OACE,gCACGD,GAAU,cAAC,EAAD,CAAcnC,MAAOmC,IAChC,sBAAKhD,UAAU,QAAf,UACY,OAAT3B,EAtBH,8BACE,cAAC,EAAD,CAAWmD,YAAY,QAAQL,IAAK+B,EAApC,SACE,cAAC,EAAD,CAAWvB,aAAcsC,QAQ7B,8BACE,cAAC,EAAD,CAAWzC,YAAY,WAAWL,IAAKiC,EAAvC,SACE,cAAC,EAAD,CAAUjF,WAAYmG,EAAiBjG,KAAMA,QAW/C,8BACGwE,EACEqC,MAAK,SAAC5G,EAAG6G,GAAJ,OAAU7G,EAAEsB,MAAQuF,EAAEvF,SAC3BgF,KAAI,SAACxG,GAAD,OACH,cAAC,EAAD,CACEC,KAAMA,EAEND,KAAMA,EACNiB,QAASqF,EACTxF,WAAY2F,GAHPzG,EAAKY,gBChK1BoG,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.db5dd217.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = (newToken) => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((res) => res.data)\r\n}\r\n\r\nconst createBlog = async (blog, user) => {\r\n  const request = axios.post(baseUrl, blog, {\r\n    headers: {\r\n      Authorization: 'bearer ' + user.token,\r\n    },\r\n  })\r\n  return request.then((res) => res.data)\r\n}\r\n\r\nconst updateBlogLikes = async (blog, user) => {\r\n  const request = axios.put(baseUrl + `/${blog.id}`, blog.likedBlog, {\r\n    headers: { Authorization: 'bearer ' + user.token },\r\n  })\r\n  return request.then((res) => res.data)\r\n}\r\n\r\nconst deleteBlog = async (blog, user) => {\r\n  const request = axios.delete((baseUrl + `/${blog.id}`), {\r\n    headers: { Authorization: 'bearer ' + user.token },\r\n  })\r\n  return request.then(res => res.data)\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default { getAll, createBlog, setToken, updateBlogLikes, deleteBlog }\r\n","import { logDOM } from '@testing-library/react'\r\nimport React, { useState } from 'react'\r\n\r\nconst Blog = ({ blog, addLike, deleteBlog, user }) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const visibleStyle = { display: visible ? '' : 'none' }\r\n\r\n  const blogToggle = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  const likeBlog = () => {\r\n    addLike({ id: blog.id, likedBlog: { likes: blog.likes + 1 } })\r\n  }\r\n\r\n  const performDelete = () => {\r\n    if (window.confirm('Are you sure you want to delete this blog?')) {\r\n      deleteBlog(blog)\r\n    }\r\n  }\r\n\r\n  const deleteButton = () => {\r\n    if (user) {\r\n      if (user.username === blog.user.username) {\r\n        return (\r\n          <button onClick={performDelete} title=\"Delete blog\">\r\n            Delete\r\n          </button>\r\n        )\r\n      } else {\r\n        return (\r\n          <button disabled=\"disabled\" title=\"Only blog creator may delete\">\r\n            Delete\r\n          </button>\r\n        )\r\n      }\r\n    } return\r\n  }\r\n\r\n  const likeButton = () => {\r\n    if(user){\r\n      return (<button onClick={likeBlog}>Like</button>)\r\n    } else {\r\n      return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"card blog\">\r\n      <h2>{blog.title}</h2>\r\n      <button onClick={blogToggle}>{visible ? 'Hide' : 'Show'}</button>\r\n      <div style={visibleStyle}>\r\n        <h3>{blog.author}</h3>\r\n        <p>URL: {blog.url}</p>\r\n        <p>Likes: {blog.likes}</p>\r\n        {likeButton()}\r\n        {deleteButton()}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n","import axios from 'axios'\r\n\r\nconst login = async (creds) => {\r\n  const response = await axios.post('/api/login', creds)\r\n  return response.data\r\n}\r\n\r\n// eslint-disable-next-line\r\nexport default {login}\r\n","import React from 'react'\r\n\r\nconst Notification = ({props}) => {\r\n    const success = props.success\r\n    const message = props.message\r\n\r\n    \r\n\r\n    return (\r\n      <div>\r\n        {success ? (\r\n          <h2 className=\"notify success\">{message}</h2>\r\n        ) : (\r\n          <h2 className=\"notify failed\">{message}</h2>\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    // Remember to pass as an assigned object\r\n    return {toggleVisibility}\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible}>\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired,\r\n}\r\n\r\nexport default Togglable\r\n","import React, { useState } from 'react'\r\n\r\nconst LoginForm = ({handleSubmit}) => {\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const submitLogin =(e) => {\r\n    e.preventDefault()\r\n    handleSubmit({username, password})\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submitLogin}>\r\n      <h2>Login</h2>\r\n      <div>\r\n        username\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          name=\"Username\"\r\n          onChange={({ target }) => setUsername(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        password\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          name=\"Password\"\r\n          onChange={({ target }) => setPassword(target.value)}\r\n        />\r\n      </div>\r\n      <button type=\"submit\">login</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n","import React, { useState } from 'react'\r\n\r\nconst BlogForm = ({ createBlog, user }) => {\r\n  const [title, setTitle] = useState('')\r\n  const [url, setUrl] = useState('')\r\n  const [author, setAuthor] = useState('')\r\n  const [likes, setLikes] = useState('')\r\n\r\n  const addBlog = (e) => {\r\n    e.preventDefault()\r\n\r\n    createBlog(\r\n      {\r\n        title: title,\r\n        author: author,\r\n        url: url,\r\n        likes: likes,\r\n      },\r\n      user\r\n    )\r\n\r\n    setTitle('')\r\n    setUrl('')\r\n    setAuthor('')\r\n    setLikes('')\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={addBlog}>\r\n      title:\r\n      <input\r\n        type=\"text\"\r\n        value={title}\r\n        onChange={({ target }) => setTitle(target.value)}\r\n      />\r\n      author:\r\n      <input\r\n        type=\"text\"\r\n        value={author}\r\n        onChange={({ target }) => setAuthor(target.value)}\r\n      />\r\n      url:\r\n      <input\r\n        type=\"text\"\r\n        value={url}\r\n        onChange={({ target }) => setUrl(target.value)}\r\n      />\r\n      <input\r\n        type=\"number\"\r\n        value={likes}\r\n        onChange={({ target }) => setLikes(target.value)}\r\n      />\r\n      <button type=\"submit\">Create Blog</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default BlogForm\r\n","import './App.css'\nimport React, { useState, useEffect, useRef } from 'react'\nimport blogService from './services/blog'\nimport Blog from './components/Blog'\nimport loginService from './services/login'\nimport Notification from './components/Notification'\nimport Togglable from './components/Togglable'\nimport LoginForm from './components/LoginForm'\nimport BlogForm from './components/BlogForm'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [user, setUser] = useState(null)\n  const [notify, setNotify] = useState(null)\n\n  // Refs\n  const toggleLoginForm = useRef()\n  const toggleBlogForm = useRef()\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then((initialBlogs) => {\n        // if(initialBlogs.length === 0){\n\n        // }\n        setBlogs(initialBlogs)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedNoteappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      setUser(user)\n    }\n  }, [])\n\n  const handleLogin = (login) => {\n    loginService\n      .login(login)\n      .then((user) => {\n        setNotify({ success: true, message: 'Login successful' })\n        window.localStorage.setItem('loggedBlogUser', JSON.stringify(user))\n        setUser(user)\n        notifyTimer()\n      })\n      .catch((err) => {\n        setNotify({ success: false, message: 'Invalid Credentials' })\n        notifyTimer()\n      })\n  }\n\n  const handleBlogEntry = (newBlog) => {\n    toggleBlogForm.current.toggleVisibility()\n    blogService\n      .createBlog(newBlog, user)\n      .then((blog) => {\n        blog = {...blog, user: {username: user.username, id: blog.user}}\n        setBlogs(blogs.concat(blog))\n        setNotify({\n          success: true,\n          message: `New blog \\\"${blog.title}\\\" by ${blog.author} has been added`,\n        })\n        notifyTimer()\n      })\n      .catch((err) => {\n        setNotify({\n          success: false,\n          message: 'An error occurred submitting blog',\n        })\n        notifyTimer()\n      })\n  }\n\n  const handleBlogLike = (likedBlog) => {\n    blogService\n      .updateBlogLikes(likedBlog, user)\n      .then((updatedBlog) => {\n        setNotify({\n          success: true,\n          message: `${user.name} has liked the blog: \\\"${updatedBlog.title}\\\"`,\n        })\n        notifyTimer()\n        setBlogs(\n          blogs.map((blog) => {\n            if (blog.id === updatedBlog.id) {\n              return updatedBlog\n            }\n            return blog\n          })\n        )\n      })\n      .catch((err) => {\n        setNotify({ success: false, message: 'Blog like not successful' })\n        notifyTimer()\n      })\n  }\n\n  const handleDeleteBlog = (blogToDelete) => {\n    blogService\n      .deleteBlog(blogToDelete, user)\n      .then((deletedBlog) => {\n        setNotify({ success: true, message: 'Blog successfully deleted' })\n        notifyTimer()\n        setBlogs(blogs.filter((blog) => blog.id !== deletedBlog.id))\n      })\n      .catch((err) => {\n        console.log(err)\n        setNotify({ success: false, message: 'Blog deletion unsuccessful' })\n        notifyTimer()\n      })\n  }\n\n  const notifyTimer = () => {\n    setTimeout(() => {\n      setNotify(null)\n    }, 5000)\n  }\n\n  const handleLogout = () => {\n    window.localStorage.clear()\n    setUser(null)\n    setNotify({ success: true, message: 'Succesfully logged out' })\n    notifyTimer()\n  }\n\n  const logout = () => {\n    return <button onClick={handleLogout}>Logout</button>\n  }\n\n  const loginForm = () => {\n    return (\n      <div>\n        <Togglable buttonLabel=\"Login\" ref={toggleLoginForm}>\n          <LoginForm handleSubmit={handleLogin} />\n        </Togglable>\n      </div>\n    )\n  }\n\n  const blogForm = () => {\n    return (\n      <div>\n        <Togglable buttonLabel=\"New Blog\" ref={toggleBlogForm}>\n          <BlogForm createBlog={handleBlogEntry} user={user} />\n        </Togglable>\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      {notify && <Notification props={notify} />}\n      <div className=\"front\">\n        {user === null ? loginForm() : blogForm()}\n        <div>\n          {blogs\n            .sort((a, b) => a.likes - b.likes)\n            .map((blog) => (\n              <Blog\n                user={user}\n                key={blog.id}\n                blog={blog}\n                addLike={handleBlogLike}\n                deleteBlog={handleDeleteBlog}\n              />\n            ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}