{"version":3,"sources":["services/blog.js","components/Blog.js","services/login.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","getAll","axios","get","then","res","data","createBlog","blog","user","a","request","post","headers","token","Blog","className","title","author","url","likes","login","creds","response","Notification","props","console","log","success","message","App","useState","blogs","setBlogs","username","setUsername","password","setPassword","setUser","setTitle","setUrl","setAuthor","notify","setNotify","useEffect","blogService","initialBlogs","catch","err","handleLogin","e","preventDefault","loginService","notifyTimer","window","localStorage","setItem","JSON","stringify","setTimeout","clear","handleBlogEntry","onSubmit","type","value","name","onChange","target","map","id","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.17f862ba.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then((res) => res.data)\r\n}\r\n\r\nconst createBlog = async (blog, user) => {\r\n  const request = axios.post(baseUrl, blog, {headers: {\r\n    \"Authorization\": \"bearer \" + user.token} })\r\n  return request.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, createBlog }\r\n","import React from 'react'\r\n\r\nconst Blog = ({blog}) => {\r\n\r\n  return (\r\n    <div className=\"card blog\">\r\n      <h2>{blog.title}</h2>\r\n      <h3>{blog.author}</h3>\r\n      <p>URL: {blog.url}</p>\r\n      <p>Likes: {blog.likes}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog\r\n","import axios from 'axios'\r\n\r\nconst login = async creds => {\r\n    const response = await axios.post('/api/login', creds)\r\n    return response.data\r\n}\r\n\r\nexport default {\r\n  login\r\n}\r\n","import React from 'react'\r\n\r\nconst Notification = ({props}) => {\r\n    console.log(props);\r\n    const success = props.success\r\n    const message = props.message\r\n    console.log(\"success:\", success, \"message: \", message);\r\n\r\n    return (\r\n      <div>\r\n        {success ? (\r\n          <h2 className=\"notify success\">{message}</h2>\r\n        ) : (\r\n          <h2 className=\"notify failed\">{message}</h2>\r\n        )}\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Notification\r\n","import './App.css'\nimport React, { useState, useEffect } from 'react'\nimport blogService from './services/blog'\nimport Blog from './components/Blog'\nimport loginService from './services/login'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [title, setTitle] = useState('')\n  const [url, setUrl] = useState('')\n  const [author, setAuthor] = useState('')\n  const [notify, setNotify] = useState(null)\n\n  useEffect(() => {\n    blogService\n      .getAll()\n      .then((initialBlogs) => setBlogs(initialBlogs))\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  const handleLogin = async (e) => {\n    e.preventDefault()\n\n    console.log('The frontend login runs')\n\n    try {\n      const user = await loginService.login({ username, password })\n      console.log('Login Successful')\n      setNotify({ success: true, message: 'Login successful' })\n      notifyTimer()\n      window.localStorage.setItem('loggedBlogUser', JSON.stringify(user))\n      setUser(user)\n      setPassword('')\n      setUsername('')\n      setTimeout(() => {\n        window.localStorage.clear()\n      }, 100000)\n    } catch (err) {\n      console.log(err)\n      console.log('Login Not Successful')\n      setNotify({ success: false, message: 'Invalid Credentials' })\n      notifyTimer()\n    }\n  }\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <h2>Login</h2>\n      <div>\n        username\n        <input\n          type=\"text\"\n          value={username}\n          name=\"Username\"\n          onChange={({ target }) => setUsername(target.value)}\n        />\n      </div>\n      <div>\n        password\n        <input\n          type=\"password\"\n          value={password}\n          name=\"Password\"\n          onChange={({ target }) => setPassword(target.value)}\n        />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n\n  const handleBlogEntry = async (e) => {\n    e.preventDefault()\n\n    try {\n      await blogService.createBlog({ title, author, url }, user)\n      setTitle('')\n      setAuthor('')\n      setUrl('')\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const blogForm = () => (\n    <form onSubmit={handleBlogEntry}>\n      title:\n      <input\n        type=\"text\"\n        value={title}\n        onChange={({ target }) => setTitle(target.value)}\n      />\n      author:\n      <input\n        type=\"text\"\n        value={author}\n        onChange={({ target }) => setAuthor(target.value)}\n      />\n      url:\n      <input\n        type=\"text\"\n        value={url}\n        onChange={({ target }) => setUrl(target.value)}\n      />\n      <button type=\"submit\">Create Blog</button>\n    </form>\n  )\n\n  const notifyTimer = () => {\n    setTimeout(() => {\n      setNotify(null)\n    }, 5000)\n  }\n\n  return (\n    <div>\n      {notify && <Notification props={notify} />}\n      <div className=\"front\">\n        {user === null ? loginForm() : blogForm()}\n\n        <div>\n          {blogs.map((blog) => (\n            <Blog key={blog.id} blog={blog} />\n          ))}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}